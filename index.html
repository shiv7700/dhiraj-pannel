<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dhiraj pannel</title>
    <link rel="stylesheet" href="./style.css">
</head>

<body>


    <div class="prop">
        <header>
            <h1>Dhiraj Kumar Pannel</h1>
        </header>

        <div class="open">
            <div class="admin-container">
                <div class="admin-panel">
                    <a href="./message.html" class="panel messages">
                        <h2>Messages</h2>
                        <p>click here to see who messages you</p>
                    </a>
                    <a href="./ip.html" class="panel visitors">
                        <h2>Site Visitors</h2>
                        <p>click here to see who visit your site</p>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div id="container-hammer">
        <svg version="1.1" id="hammer" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"
            x="0px" y="0px" viewBox="0 0 196.6 330.7" style="enable-background:new 0 0 196.6 330.7;"
            xml:space="preserve">
            <path class="shadow" id="shadow2"
                d="M170.2,0H26.4L0,25.6v74l21.8,21.3l4.4,4.4h40.7l4.9,18.7h2.7c-0.7,1.3-1.2,2.8-1.2,4.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.6c-0.8,1-1.3,2.2-1.6,3.5h-1.7v19.6
    		c0,14.6,11.8,26.4,26.4,26.4c7.1,0,13.8-2.8,18.7-7.8c4.9-5,7.6-11.6,7.6-18.6v-19.6h-1.7v-2.9c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4V144h1.8l4-18.7h41.6l26.4-25.6v-74L170.2,0z" />
            <path class="shadow" id="shadow" fill="#4089FF"
                d="M170.2,0H26.4L0,25.6v74l21.8,21.3l4.4,4.4h40.7l4.9,18.7h2.7c-0.7,1.3-1.2,2.8-1.2,4.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6
    		c0,1.9,0.6,3.8,1.8,5.3v6.7c-1.1,1.5-1.8,3.4-1.8,5.4v5.6c0,2,0.7,3.9,1.8,5.4v6.6c-0.8,1-1.3,2.2-1.6,3.5h-1.7v19.6
    		c0,14.6,11.8,26.4,26.4,26.4c7.1,0,13.8-2.8,18.7-7.8c4.9-5,7.6-11.6,7.6-18.6v-19.6h-1.7v-2.9c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.6
    		c1.1-1.5,1.8-3.4,1.8-5.4v-5.6c0-2-0.7-3.9-1.8-5.4v-6.7c1.1-1.5,1.8-3.4,1.8-5.4V144h1.8l4-18.7h41.6l26.4-25.6v-74L170.2,0z" />
            <rect x="82.2" y="106.4" fill="6D3121" width="31.9" height="191.7" />
            <path fill="#2D1510" d="M80.4,130.9v-5.6c0-1.5,1.7-2.5,3-1.7l31.5,18.2c0.6,0.4,1,1,1,1.7v5.6c0,1.5-1.7,2.5-3,1.7l-31.5-18.2
    			C80.8,132.3,80.4,131.6,80.4,130.9z M81.4,155.7l31.5,18.2c1.3,0.8,3-0.2,3-1.7v-5.6c0-0.7-0.4-1.4-1-1.7l-31.5-18.2
    			c-1.3-0.8-3,0.2-3,1.7v5.6C80.4,154.7,80.8,155.3,81.4,155.7z M81.4,178.7l31.5,18.2c1.3,0.8,3-0.2,3-1.7v-5.6
    			c0-0.7-0.4-1.4-1-1.7l-31.5-18.2c-1.3-0.8-3,0.2-3,1.7v5.6C80.4,177.7,80.8,178.4,81.4,178.7z M81.4,201.8l31.5,18.2
    			c1.3,0.8,3-0.2,3-1.7v-5.6c0-0.7-0.4-1.4-1-1.7l-31.5-18.2c-1.3-0.8-3,0.2-3,1.7v5.6C80.4,200.8,80.8,201.4,81.4,201.8z
    			 M81.4,224.8l31.5,18.2c1.3,0.8,3-0.2,3-1.7v-5.6c0-0.7-0.4-1.4-1-1.7l-31.5-18.2c-1.3-0.8-3,0.2-3,1.7v5.6
    			C80.4,223.8,80.8,224.5,81.4,224.8z M81.4,247.9l31.5,18.2c1.3,0.8,3-0.2,3-1.7v-5.6c0-0.7-0.4-1.4-1-1.7l-31.5-18.2
    			c-1.3-0.8-3,0.2-3,1.7v5.6C80.4,246.9,80.8,247.5,81.4,247.9z M81.4,270.9l31.5,18.2c1.3,0.8,3-0.2,3-1.7v-5.6
    			c0-0.7-0.4-1.4-1-1.7l-31.5-18.2c-1.3-0.8-3,0.2-3,1.7v5.6C80.4,269.9,80.8,270.6,81.4,270.9z M81.4,294l25.1,14.5
    			c0.3,0.2,0.6,0.3,1,0.3h6.4c1.1,0,2-0.9,2-2v-2c0-0.7-0.4-1.4-1-1.7l-31.5-18.2c-1.3-0.8-3,0.2-3,1.7v5.6
    			C80.4,293,80.8,293.6,81.4,294z" />
            <path fill="#545657"
                d="M98.3,323.7L98.3,323.7c-10.7,0-19.4-8.7-19.4-19.4v-12.6h38.7v12.6C117.7,315.1,109,323.7,98.3,323.7z" />
            <polygon fill="#545657" points="119,137 77.2,137 72.2,118.1 123,118.1 		" />
            <polygon fill="#A8A8A8"
                points="167.4,118.3 29.2,118.3 7,96.7 7,28.6 29.2,7 167.4,7 189.6,28.6 189.6,96.7 		" />
            <path fill="#545657" d="M167.6,95.1V30.3h22v-1.6l-0.4-0.4h-21.6V7.2L167.4,7h-1.8v21.3H30.9V7h-1.7l-0.3,0.3v21H7.4L7,28.6v1.6h21.9
    			v64.9H7v1.6l0.4,0.4h21.4V118l0.3,0.3h1.7V97.1h134.8v21.2h1.8l0.2-0.2v-21h21.5l0.4-0.4v-1.6C189.5,95.1,167.6,95.1,167.6,95.1z
    			 M165.6,95.1H30.9V30.3h134.8L165.6,95.1L165.6,95.1z" />
            <path id="thunder7" class="thunder" d="M-170.4-1751.7l8.4,79.4l-8.4,38.5l4.2,52.5l-4.2,19.8l4.2,51.4l-9.5,24.5c0,0,4.2,19.8,6.9,23.3
    	c2.6,3.5-11.1,39.7-11.1,39.7l9,14l-13.7,23.3l26.9,117.9l-10,19.8l3.7,30.4l-20.6,10.5l-24.3,106.2l8.4,136.6l14.8,49l23.2,15.2
    	l4.7,51.4l25.8,75.9l16.4,50.2l7.4,52.5h19l10.5,45.5H-67l34.3,65.4l9.5,79.4l18.5,12.8v36.2l-29,67.7l5.3,50.2l-13.2,49l5.3,43.2
    	l7.4,14l-13.2,74.7l17.9,17.5l2.1,24.5h17.4v49L7-46.2L21.8,4.4" />
            <path id="thunder6" class="thunder" d="M101.1-1766.5l-1.1,79.8l-13,37.2l-2.1,52.7l-6.6,19.2l-2,51.5L64-1502.9c0,0,1.8,20.2,4,24
    	c2.2,3.8-15.7,38.1-15.7,38.1l7.2,15l-16.4,21.5L55.7-1284l-12.3,18.5l0,30.6l-21.7,8l-36.8,102.6l-8,136.6l8.8,50.4L7-919.5
    	L5.5-868l16.6,78.4l10.2,51.8l1,53l18.9,2.3l5,46.5l11.5,1.4l26.2,69l-0.1,79.9l16.8,15l-4.3,35.9L70.4-371l-0.8,50.5l-19,47.1
    	l0.1,43.5l5.7,14.8l-22,72.6L50.1-123l-0.8,24.6l17.3,2.1l-5.9,48.7L73-52l8.7,52" />
            <path id="thunder5" class="thunder"
                d="M-1039.2-1474.2l44.6,67.5l0.1,41.6l27.2,45.6l0.3,21.3l26.8,44.5l-7,29.4
    	c0,0,14.8,15.4,20.7,16.8c5.9,1.4-4,44.5-4,44.5l20.8,6.6l-14.8,31.3l91,90.1l-9.7,25.4l17.9,25.5l-31.4,24.2l-1.5,115.4l66.3,120.4
    	l44,34.9l45.7-2.3l27.7,44.2l73.3,52l-3.4-27.6l32.6,43.4l32.7-13.4l35.4,34.7l20-8.2l83.8,36.3l46.5,66.7l36.7-1.2l64.3,96
    	l-74.8,20.6l78.7,105.3l-4.1,54.7l25.5,36.2l18,7.7l54.7,118.7l37.5,3.5l12.9,21.2l30-12.3l18.6,45.4l18-13.7L7,55.2" />
            <path id="thunder4" class="thunder" d="M-755.7-1668.3l33.8,73.5l-6.3,41.1l19.9,49.2l-3,21.1l19.6,48.1l-11.5,28
    	c0,0,12.3,17.5,17.9,19.7c5.6,2.3-10.8,43.4-10.8,43.4l19.5,9.7l-19.4,28.7l76.2,103l-13.5,23.7l13.8,27.9l-34.8,19.2l-19.1,113.8
    	l47.2,129.1l38.2,41.3l45.5,4.7l20.6,47.9l64.5,62.6l0.9-27.8l25.6,47.9l34.4-8.2l29.7,39.7l21-5l77.3,48.7l35.7,73.1l36.4,4.5
    	l48.8,104.7l-77.1,8.9l61.7,116l-12.4,53.4l19.6,39.7l16.6,10.4l35.9,125.6l36.5,9.2l9.5,22.9l31.5-7.6l11.4,47.7L5.7-39.7L44.3,3.1
    	" />
            <path id="thunder3" class="thunder" d="M439.7-1951l-12,58.4l12,28.4l-6,38.7
    	l6,14.6l-6,37.8l13.5,18c0,0-6,14.6-9.8,17.2s15.8,29.2,15.8,29.2l-12.8,10.3l19.6,17.2l-38.4,86.8l14.3,14.6l-5.3,22.3l29.3,7.7
    	l34.6,78.2l-12,100.5l-21.1,36.1l-33.1,11.2l-6.8,37.8l-36.9,55.8l-23.3,36.9l-10.5,38.7h-27.1l-15,33.5h-16.5l-48.9,48.1
    	l-13.5,58.4l-26.3,9.5v26.6l41.4,49.8l-7.5,36.9l18.8,36.1l-7.5,31.8l-10.5,10.3l18.8,55l-25.6,12.9l-3,18h-24.8v36.1l-16.7-4.3
    	l-21.2,37.2l15.8,103.1l-25.3,33.2l22.2,23.7l18.3,102.9l-7,17.4h20.3l14.2,52.2l-14.2,41.1l-30.1,25.3l16.7,53.8v68L156.1-87
    	l9.6,49.1l-9.6,45" />
            <path id="thunder2" class="thunder"
                d="M1446.5-1529.2l-31.3,33.6l-17,47l-60.7,22.6l-35,58.4l-13.3,54.7l-38.8,6.3l-33.4,28l-14.6,52.1
    	l17.5,10.5l-15,11.3l-37.2,97.6l6.8,31.7l-38.8,15.5l-39.5,96.5l-37.3,21.1l-12.1-12.3l-18.6,31l-21.3-12.8L995-922.4l-28.6-2.1
    	l-12.1,56.8l-14.3,3.4l-22.8,23.4l-2.4,40.6l-25.4,27.8l9.9,64l-13.7,22.8l-27.4-5.4l-41.6,43.2l-66.7,16.1l-14.2-8.5l-30.1,21
    	l-23.2-13.9l-28.9,27.7l-39,19.7l-60.3,29l-25.2,28.9l-34.1-7.4L458-515l-62,80l-10.5,84.8l21.2,21.7l-16,16.5l4.7,19.9l-77.5,54.7
    	l7.9,24.8l-16.3,2.3c0,0,3.1,32.9-1.5,33.2c-4.6,0.3-17.2,9.7-17.2,9.7l2.3,22.4l-24.6,29.3l-2.3,15.6l-25,30.1L237-39.5L196.6,4.4" />
            <path id="thunder1" class="thunder" d="M1572.7-1297.8l-30.8,33.1l-40,28.7
    	l-25,48.3l-51.3,44.8l-45.9,29.2l-9.3,27.8l-26.4,32.3l-43.9,29.1l-6.6-7.5l-10.8,14l-83.4,60.9l-25.1,7.4l-16.8,31.2l-82.7,61.9
    	l-21.2,32.3l8.7,3.4l-27.2,23.7l8,9.2l-12.6,13l-1.4,18l-47.5,29.2l-4.4,10.7l-21.5,23.7l-33.3,16.8l-25.4,27.1l-5.5,48.2
    	l-20.1,17.5l1.4,16l-51,48.7v40.1l-15.1,15.8l-18.5,17.5l6.9,20.2l-67.5,64.1l-33.4-3l-9.3,15.6l-26.3,27.4l2.3,19.6l-20.4,31.5
    	l-71.8,70.6l-70.1,38.6l-15.3-5.8L468-150.4l-15.6,4.3l-53,71.3l-19.3,4.1l-3.6,11.5c0,0-26.4,10.3-27.1,13.4s-9.8,14.9-9.8,14.9
    	l-18,6.8L295.1,3l-12.9,7.4L255,38l-25.3,14.2l-40.1,42.9" />
            <path id="thunder-shadow7" class="thunder-shadow" d="M-170.4-1751.7l8.4,79.4l-8.4,38.5l4.2,52.5l-4.2,19.8l4.2,51.4l-9.5,24.5
    	c0,0,4.2,19.8,6.9,23.3c2.6,3.5-11.1,39.7-11.1,39.7l9,14l-13.7,23.3l26.9,117.9l-10,19.8l3.7,30.4l-20.6,10.5l-24.3,106.2
    	l8.4,136.6l14.8,49l23.2,15.2l4.7,51.4l25.8,75.9l16.4,50.2l7.4,52.5h19l10.5,45.5H-67l34.3,65.4l9.5,79.4l18.5,12.8v36.2l-29,67.7
    	l5.3,50.2l-13.2,49l5.3,43.2l7.4,14l-13.2,74.7l17.9,17.5l2.1,24.5h17.4v49L7-46.2L21.8,4.4" />
            <path id="thunder-shadow6" class="thunder-shadow" d="M101.1-1766.5l-1.1,79.8l-13,37.2l-2.1,52.7l-6.6,19.2l-2,51.5L64-1502.9
    	c0,0,1.8,20.2,4,24c2.2,3.8-15.7,38.1-15.7,38.1l7.2,15l-16.4,21.5L55.7-1284l-12.3,18.5l0,30.6l-21.7,8l-36.8,102.6l-8,136.6
    	l8.8,50.4L7-919.5L5.5-868l16.6,78.4l10.2,51.8l1,53l18.9,2.3l5,46.5l11.5,1.4l26.2,69l-0.1,79.9l16.8,15l-4.3,35.9L70.4-371
    	l-0.8,50.5l-19,47.1l0.1,43.5l5.7,14.8l-22,72.6L50.1-123l-0.8,24.6l17.3,2.1l-5.9,48.7L73-52l8.7,52" />
            <path id="thunder-shadow5" class="thunder-shadow"
                d="M-1039.2-1474.2l44.6,67.5l0.1,41.6l27.2,45.6l0.3,21.3l26.8,44.5l-7,29.4
    	c0,0,14.8,15.4,20.7,16.8c5.9,1.4-4,44.5-4,44.5l20.8,6.6l-14.8,31.3l91,90.1l-9.7,25.4l17.9,25.5l-31.4,24.2l-1.5,115.4l66.3,120.4
    	l44,34.9l45.7-2.3l27.7,44.2l73.3,52l-3.4-27.6l32.6,43.4l32.7-13.4l35.4,34.7l20-8.2l83.8,36.3l46.5,66.7l36.7-1.2l64.3,96
    	l-74.8,20.6l78.7,105.3l-4.1,54.7l25.5,36.2l18,7.7l54.7,118.7l37.5,3.5l12.9,21.2l30-12.3l18.6,45.4l18-13.7L7,55.2" />
            <path id="thunder-shadow4" class="thunder-shadow" d="M-755.7-1668.3l33.8,73.5l-6.3,41.1l19.9,49.2l-3,21.1l19.6,48.1l-11.5,28
    	c0,0,12.3,17.5,17.9,19.7c5.6,2.3-10.8,43.4-10.8,43.4l19.5,9.7l-19.4,28.7l76.2,103l-13.5,23.7l13.8,27.9l-34.8,19.2l-19.1,113.8
    	l47.2,129.1l38.2,41.3l45.5,4.7l20.6,47.9l64.5,62.6l0.9-27.8l25.6,47.9l34.4-8.2l29.7,39.7l21-5l77.3,48.7l35.7,73.1l36.4,4.5
    	l48.8,104.7l-77.1,8.9l61.7,116l-12.4,53.4l19.6,39.7l16.6,10.4l35.9,125.6l36.5,9.2l9.5,22.9l31.5-7.6l11.4,47.7L5.7-39.7L44.3,3.1
    	" />
            <path id="thunder-shadow3" class="thunder-shadow" d="M439.7-1951l-12,58.4l12,28.4l-6,38.7l6,14.6l-6,37.8l13.5,18c0,0-6,14.6-9.8,17.2
    	s15.8,29.2,15.8,29.2l-12.8,10.3l19.6,17.2l-38.4,86.8l14.3,14.6l-5.3,22.3l29.3,7.7l34.6,78.2l-12,100.5l-21.1,36.1l-33.1,11.2
    	l-6.8,37.8l-36.9,55.8l-23.3,36.9l-10.5,38.7h-27.1l-15,33.5h-16.5l-48.9,48.1l-13.5,58.4l-26.3,9.5v26.6l41.4,49.8l-7.5,36.9
    	l18.8,36.1l-7.5,31.8l-10.5,10.3l18.8,55l-25.6,12.9l-3,18h-24.8v36.1l-16.7-4.3l-21.2,37.2l15.8,103.1l-25.3,33.2l22.2,23.7
    	l18.3,102.9l-7,17.4h20.3l14.2,52.2l-14.2,41.1l-30.1,25.3l16.7,53.8v68L156.1-87l9.6,49.1l-9.6,45" />
            <path id="thunder-shadow2" class="thunder-shadow" d="M1446.5-1529.2l-31.3,33.6l-17,47l-60.7,22.6l-35,58.4l-13.3,54.7l-38.8,6.3l-33.4,28
    	l-14.6,52.1l17.5,10.5l-15,11.3l-37.2,97.6l6.8,31.7l-38.8,15.5l-39.5,96.5l-37.3,21.1l-12.1-12.3l-18.6,31l-21.3-12.8L995-922.4
    	l-28.6-2.1l-12.1,56.8l-14.3,3.4l-22.8,23.4l-2.4,40.6l-25.4,27.8l9.9,64l-13.7,22.8l-27.4-5.4l-41.6,43.2l-66.7,16.1l-14.2-8.5
    	l-30.1,21l-23.2-13.9l-28.9,27.7l-39,19.7l-60.3,29l-25.2,28.9l-34.1-7.4L458-515l-62,80l-10.5,84.8l21.2,21.7l-16,16.5l4.7,19.9
    	l-77.5,54.7l7.9,24.8l-16.3,2.3c0,0,3.1,32.9-1.5,33.2c-4.6,0.3-17.2,9.7-17.2,9.7l2.3,22.4l-24.6,29.3l-2.3,15.6l-25,30.1L237-39.5
    	L196.6,4.4" />
            <path id="thunder-shadow1" class="thunder-shadow"
                d="M1572.7-1297.8l-30.8,33.1l-40,28.7l-25,48.3l-51.3,44.8l-45.9,29.2l-9.3,27.8l-26.4,32.3
    	l-43.9,29.1l-6.6-7.5l-10.8,14l-83.4,60.9l-25.1,7.4l-16.8,31.2l-82.7,61.9l-21.2,32.3l8.7,3.4l-27.2,23.7l8,9.2l-12.6,13l-1.4,18
    	l-47.5,29.2l-4.4,10.7l-21.5,23.7l-33.3,16.8l-25.4,27.1l-5.5,48.2l-20.1,17.5l1.4,16l-51,48.7v40.1l-15.1,15.8l-18.5,17.5l6.9,20.2
    	l-67.5,64.1l-33.4-3l-9.3,15.6l-26.3,27.4l2.3,19.6l-20.4,31.5l-71.8,70.6l-70.1,38.6l-15.3-5.8L468-150.4l-15.6,4.3l-53,71.3
    	l-19.3,4.1l-3.6,11.5c0,0-26.4,10.3-27.1,13.4s-9.8,14.9-9.8,14.9l-18,6.8L295.1,3l-12.9,7.4L255,38l-25.3,14.2l-40.1,42.9" />
        </svg>
        sad
    </div>


    <script src="./app.js"></script>
</body>

<script>
    const hammer = document.querySelector("svg");
    const rectHammer = hammer.getBoundingClientRect();
    const shadows = document.querySelectorAll(".shadow");
    const thunders = document.querySelectorAll(".thunder");
    const thundersShadows = document.querySelectorAll(".thunder-shadow");
    const lastPositions = [];
    let following = true;
    let moving = false;
    let charged = false;
    let launched = false;
    let throwed = false;

    let x = 0;
    let y = 0;
    let speed = 1;
    let previousTimestamp = Date.now();
    let delayTimer,
        clickTimer,
        firstXPosition,
        firstYPosition,
        distanceX,
        distanceY,
        speedY,
        speedX,
        speedMouse,
        intervalThunder,
        clickStartTime,
        floorXPosition,
        rotationThrowed,
        xThrowed,
        yThrowed,
        hammerFollowAnimation;

    hammer.dataset.left = Math.floor(rectHammer.width / 2);
    hammer.dataset.top = 0;

    function handleMove({ clientX, clientY }) {
        const currentTimestamp = Date.now();
        x = clientX - rectHammer.width / 2;
        y = clientY - rectHammer.height / 2;
        const xCursor = hammer.dataset.left;
        const yCursor = hammer.dataset.top;
        const rad = Math.atan2(xCursor - x, yCursor - y);
        const rotation = rad * (180 / Math.PI) * -1;
        hammer.dataset.left = x;
        hammer.dataset.top = y;
        if (lastPositions.length > 1) {
            const timeElapsed = currentTimestamp - previousTimestamp;
            distanceX = lastPositions[lastPositions.length - 1].x - lastPositions[0].x;
            distanceY = lastPositions[lastPositions.length - 1].y - lastPositions[0].y;
            speedY = Math.abs(distanceY) / timeElapsed;
            speedX = Math.abs(distanceX) / timeElapsed;
            const distance = Math.sqrt(
                Math.abs(distanceX) * Math.abs(distanceX) +
                Math.abs(distanceY) * Math.abs(distanceY)
            );
            speed = distance / timeElapsed;
        }

        const keyframes = {
            hammer: [
                { transform: `rotate(${rotation}deg)`, left: `${x}px`, top: `${y}px` },
            ],
            hammerThrow: [
                {
                    transform: `rotate(${rotation}deg)`,
                    left: `${x + distanceX * speedX}px`,
                    top: `${y + distanceY * speedY}px`,
                },
            ],
        };
        if (following) {
            // if(speed < 10){
            hammerFollowAnimation = animateElement(
                hammer,
                keyframes.hammer,
                2500 / speed
            );
            clearTimeout(delayTimer);
            delayTimer = setTimeout(() => {
                if (following) {
                    handleMouseStop(x, y);
                }
            }, 100);
            // }else{
            //   following=false
            //   throwed = true
            //   xThrowed = x+distanceX*speedX
            //   yThrowed = y+distanceY*speedY
            //   speedMouse = speed
            //   console.log(speedMouse)
            //   hammerFollowAnimation = animateElement(hammer, keyframes.hammerThrow, 2500/speed);
            // }
        }
        keepingTracks(lastPositions, x, y, rotation);
        previousTimestamp = currentTimestamp;
    }
    function handleMouseStop(x, y) {
        const keyframesEndHammer = {
            transform: `rotate(${0}deg)`,
            left: `${x}px`,
            top: `${y - rectHammer.height / 4}px`,
        };
        hammer.dataset.left = x;
        hammer.dataset.top = y - rectHammer.height / 4;
        const hammerRealignAnimation = animateElement(
            hammer,
            keyframesEndHammer,
            500,
            "ease-out"
        );
    }

    function handleClick() {
        const floor = window.innerHeight - 130;
        let random = Math.floor(Math.random() * 3) * 25;
        const orientation =
            lastPositions[lastPositions.length - 1].x >= lastPositions[0].x ? 1 : -1;
        const keyframes = {
            drop: [
                {
                    transform: `rotate(${(135 + random) * orientation}deg)`,
                    left: `${x}px`,
                    top: `${floor}px`,
                },
            ],
            recover: [
                {
                    transform: `rotate(${135 * orientation}deg)`,
                    left: `${floorXPosition}px`,
                    top: `${floor}px`,
                },
                {
                    transform: `rotate(${0}deg)`,
                    left: `${x}px`,
                    top: `${y - rectHammer.height / 4}px`,
                },
            ],
            recoverFromThrowing: [
                {
                    transform: `rotate(${lastPositions[lastPositions.length - 1].rotation
                        }deg)`,
                    left: `${xThrowed}px`,
                    top: `${yThrowed}px`,
                },
                {
                    transform: `rotate(${0}deg)`,
                    left: `${x}px`,
                    top: `${y - rectHammer.height / 4}px`,
                },
            ],
        };
        if (following) {
            following = false;
            floorXPosition = x;
            charged = false;
            shadows.forEach((shadow) => {
                shadow.style.opacity = 0;
                shadow.classList.remove("charged");
            });
            dropHammer(keyframes.drop);
        } else {
            following = true;
            if (throwed) {
                recoverHammer(
                    keyframes.recoverFromThrowing,
                    (500 * speedMouse) / 10,
                    "ease-out"
                );
                throwed = false;
            } else {
                recoverHammer(keyframes.recover, 500);
            }
        }
    }

    function handleHold() {
        if (!charged) {
            launched = true;
            following = false;
            let opacityShadow = 0;
            intervalThunder = setInterval(() => {
                console.log(opacityShadow * 100);
                if (opacityShadow < 1) {
                    if ((opacityShadow * 100) % 8 != 0) {
                        document.body.style.backgroundColor = "#c8fcff";
                    } else {
                        document.body.style.backgroundColor = "#0D1225";
                    }
                    opacityShadow += 0.12;
                } else {
                    clearInterval(intervalThunder);
                    charged = true;
                    following = true;

                    shadows.forEach((shadow) => {
                        shadow.classList.add("charged");
                    });
                }
                const rand = Math.floor(Math.random() * thunders.length);
                const thunderAnimation = animateElement(
                    thunders[rand],
                    keyframesThunder(thunders[rand]),
                    600,
                    "ease-in"
                );
                const thunderShadowAnimation = animateElement(
                    thundersShadows[rand],
                    keyframesThunder(thundersShadows[rand]),
                    600,
                    "ease-in"
                );
                shadows.forEach((shadow) => {
                    shadow.style.opacity = opacityShadow;
                });
            }, 200);
        }
    }

    function animateElement(
        element,
        keyframes,
        duration = 500,
        easing = "linear",
        fill = "forwards"
    ) {
        return element.animate(keyframes, { duration, easing, fill });
    }

    function dropHammer(keyframesAnimation) {
        const dropAnimation = animateElement(
            hammer,
            keyframesAnimation,
            500,
            "ease-in"
        );
    }

    function recoverHammer(keyframesAnimation, duration) {
        const hammerGoingBackAnimation = animateElement(
            hammer,
            keyframesAnimation,
            duration,
            "ease-in"
        );
    }

    function keepingTracks(arrTracks, x, y, rotation) {
        arrTracks.push({ x, y, rotation });
        if (arrTracks.length > 2) {
            arrTracks.shift();
        }
    }

    function keyframesThunder(element) {
        return [
            { strokeDashoffset: element.getTotalLength() },
            { strokeDashoffset: 0 },
            { strokeDashoffset: element.getTotalLength() * -1 },
        ];
    }

    document.addEventListener("mousemove", handleMove);

    document.addEventListener("mousedown", () => {
        clickStartTime = Date.now();
        if (following) {
            clickTimer = setTimeout(function () {
                handleHold();
            }, 300);
        }
    });

    document.addEventListener("mouseup", () => {
        const elapsed = Date.now() - clickStartTime;
        clearTimeout(clickTimer);
        clearInterval(intervalThunder);
        if (elapsed <= 300) {
            if (event.button == 0) {
                handleClick();
            }
        } else {
            if (launched) {
                following = true;
                launched = false;
            }
            document.body.style.backgroundColor = "#0D1225";
            if (!charged) {
                setTimeout(() => {
                    shadows.forEach((shadow) => {
                        shadow.style.opacity = 0;
                    });
                }, 600);
            }
        }
    });
</script>

</html>